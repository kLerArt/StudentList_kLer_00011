package programable.android.klerart.showuseronrecyclerview.MyAdapter;import android.content.Context;import android.content.Intent;import android.graphics.Bitmap;import android.graphics.BitmapFactory;import android.graphics.Color;import android.graphics.drawable.BitmapDrawable;import android.view.LayoutInflater;import android.view.View;import android.view.ViewGroup;import android.widget.ImageView;import android.widget.TextView;import android.widget.Toast;import androidx.annotation.NonNull;import androidx.recyclerview.widget.RecyclerView;import java.io.ByteArrayOutputStream;import java.io.InputStream;import java.util.List;import programable.android.klerart.showuseronrecyclerview.Modell.Student;import programable.android.klerart.showuseronrecyclerview.R;import programable.android.klerart.showuseronrecyclerview.UseStudentInfo;class SerachViewHolder extends RecyclerView.ViewHolder{    ImageView imga;    public TextView SName,SID,SDepartment,SGroup,SSEmseter;    public SerachViewHolder(@NonNull View itemView) {        super(itemView);//        final Toast toast =  Toast.makeText(this, "hiii", Toast.LENGTH_SHORT).show();        imga= itemView.findViewById(R.id.MyImga);        SName= itemView.findViewById(R.id.StuName);        SID= itemView.findViewById(R.id.StuID);        SDepartment= itemView.findViewById(R.id.StuDepartment);        SGroup= itemView.findViewById(R.id.StuGeoup);        SSEmseter= itemView.findViewById(R.id.StuSrmester);       // imageViewToByte(i);    }    ////////from video for Imga    public static byte[] imageViewToByte(ImageView image) {        Bitmap bitmap = ((BitmapDrawable)image.getDrawable()).getBitmap();        ByteArrayOutputStream stream = new ByteArrayOutputStream();        bitmap.compress(Bitmap.CompressFormat.PNG, 100, stream);        byte[] byteArray = stream.toByteArray();        return byteArray;    }    ///////////////////}public class SearchAdapter extends RecyclerView.Adapter<SerachViewHolder>{    private Context context;    private List<Student> students;    public SearchAdapter(Context context, List<Student> students) {        this.context = context;        this.students = students;    }    @NonNull    @Override    public SerachViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {        LayoutInflater inflater=LayoutInflater.from(parent.getContext());        View itemView=inflater.inflate(R.layout.my,parent,false);        return new SerachViewHolder(itemView);    }    @Override    public int getItemCount() {        return students.size();    }    @Override    public void onBindViewHolder(@NonNull SerachViewHolder holder, final int position) {        holder.SName.setText(""+ students.get(position).getStuName());        //   holder.SDepartment.setText(""+students.get(position).getStuDepartment());        holder.SGroup.setText(""+ students.get(position).getStuGroup());////        final int UserOrginalID=students.get(position).getOrginalId();        if (students.get(position).getStuGroup() == 0){            holder.SGroup.setText("المجموعة الافتراضية");        }else if (students.get(position).getStuGroup() == 1)            holder.SGroup.setText("المجموعة الاولي");        else if (students.get(position).getStuGroup() == 2)            holder.SGroup.setText("المجموعة التانية");        else if (students.get(position).getStuGroup() == 3)            holder.SGroup.setText("المجموعة الثالثة");        else if (students.get(position).getStuGroup() == 4)            holder.SGroup.setText("المجموعة الربعة");        else if (students.get(position).getStuGroup() == 5)            holder.SGroup.setText("المجموعة الخامسة");        else if (students.get(position).getStuGroup() == 6)            holder.SGroup.setText("المجموعة السدسة");        else if (students.get(position).getStuGroup() == 7)            holder.SGroup.setText("المجموعة السابعة");        else if (students.get(position).getStuGroup() == 8)            holder.SGroup.setText("المجموعة الثامنة");        else             holder.SGroup.setText("المجموعة غير مدرجة");       /* holder.itemView.setOnClickListener(new View.OnClickListener() {            @Override            public void onClick(View view) {//                toast.show();            }        });*/           holder.itemView.setOnClickListener(                   new View.OnClickListener() {                       @Override                       public void onClick(View view) {                           try {//                        String Name=students.get(position).getStuName();                           Intent myIntent = new Intent(context, UseStudentInfo.class);                    /*    myIntent.putExtra("" ,Name);                        myIntent.putExtra("myImga" ,myImga);                        myIntent.putExtra("" ,Sgroup);*/                           myIntent.putExtra("StID", students.get(position).getStudentId());                               myIntent.putExtra("name", students.get(position).getStuName());                               myIntent.putExtra("OrginalID", students.get(position).getOrginalId());                           myIntent.putExtra("StuSemester", students.get(position).getStuSemester());                           myIntent.putExtra("StDepartment", students.get(position).getStuDepartment());                           myIntent.putExtra("Sgroup", students.get(position).getStuGroup());                           myIntent.putExtra("myImga", students.get(position).getImga());                           //Comment and count                           myIntent.putExtra("Comment",students.get(position).getComment());                           myIntent.putExtra("Count",students.get(position).getCount());//                        myIntent.putExtra("position" ,position);//                        myIntent.putExtra(myImga[], myImga[]);                           context.startActivity(myIntent);//                        ByteArrayOutputStream stream=new ByteArrayOutputStream();                           }catch (Exception e){         Toast.makeText(view.getContext(),"kler",Toast.LENGTH_LONG).show();                               e.getMessage();                           }                       }                   }           );//someThing wrong      //  byte[] MyImg=students.get(position).getImga();      //  Bitmap bitmap=BitmapFactory.decodeByteArray(MyImg,0,MyImg.length);        holder.imga.setImageBitmap(BitmapFactory.decodeByteArray(students.get(position).getImga(),0,students.get(position).getImga().length));     //   byte[] foodImage = students.get(position).getImga();      //  Bitmap bitmap = BitmapFactory.decodeByteArray(foodImage, 0, foodImage.length);      //  holder.imga.setImageBitmap(bitmap);        if (students.get(position).getStuDepartment() == 4){            holder.SDepartment.setText("تخصص عام");            holder.SDepartment.setTextColor(Color.DKGRAY);        }        else if (students.get(position).getStuDepartment() == 1){            holder.SDepartment.setText("تخصص تحكم");            holder.SDepartment.setTextColor(Color.BLUE);        }        else if (students.get(position).getStuDepartment() == 2){            holder.SDepartment.setTextColor(Color.RED);            holder.SDepartment.setText("تخصص إتصالات");        }        else if (students.get(position).getStuDepartment() == 3){            holder.SDepartment.setText("تخصص حاسب");            holder.SDepartment.setTextColor(Color.GREEN);        }   else return;        //===============================================================        if (students.get(position).getStuSemester() == 7) {            holder.SSEmseter.setText("الفصل السابع");        } else if (students.get(position).getStuSemester() == 6) {            holder.SSEmseter.setText("الفصل السادس");        } else if (students.get(position).getStuSemester() == 5) {            holder.SSEmseter.setText("الفصل الخامس");        } else if (students.get(position).getStuSemester() == 4) {            holder.SSEmseter.setText("الفصل الربع");        } else if (students.get(position).getStuSemester() == 3) {            holder.SSEmseter.setText("الفصل الثالث");        } else if (students.get(position).getStuSemester() == 2) {            holder.SSEmseter.setText("الفصل التاني");        } else if (students.get(position).getStuSemester() == 1) {            holder.SSEmseter.setText("الفصل الاول");        } else if (students.get(position).getStuSemester() == 8) {            holder.SSEmseter.setText("الفصل الثامن");        }            //===================================================================            holder.SID.setText("" + students.get(position).getStudentId());            InputStream mayis;//stream pointing to your blob or file//...//// /*      /*  ImageView imageView=new ImageView(this);        imageView.setScaleType(ImageView.ScaleType.CENTER_INSIDE);        imageView.setAdjustViewBounds(true);        imageView.setImageBitmap(BitmapFactory.decodeStream(mayis));      */ // holder.imga.getImageMatrix(students.get(position).getImga());            //   Bitmap bitmap= BitmapFactory.decodeByteArray(ArrayAdapter<byte>)            //  holder.imga.setImageBitmap(bitmap);        }    }